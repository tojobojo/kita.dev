# =============================================================================
# Kita.dev Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your environment
# All values with defaults work out of the box for local development
# =============================================================================

# -----------------------------------------------------------------------------
# CORE SETTINGS
# -----------------------------------------------------------------------------

# Environment: development, staging, production
KITA_ENV=development

# Server host and port
HOST=0.0.0.0
PORT=8080

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# LLM CONFIGURATION
# -----------------------------------------------------------------------------

# OpenAI API Key (required for real LLM usage)
OPENAI_API_KEY=

# Alternative: Use LiteLLM for other providers
LITELLM_API_KEY=
LITELLM_API_BASE=

# Model selection
LLM_MODEL=gpt-4-turbo
LLM_FALLBACK_MODEL=gpt-3.5-turbo

# Use mock LLM for testing (no API calls)
USE_MOCK_LLM=false

# -----------------------------------------------------------------------------
# GITHUB APP CONFIGURATION
# -----------------------------------------------------------------------------

# GitHub App ID (from app settings page)
GITHUB_APP_ID=

# GitHub App Private Key (PEM format, base64 encoded for env var)
# Generate: base64 -w 0 private-key.pem
GITHUB_PRIVATE_KEY=

# Webhook secret for signature verification
GITHUB_WEBHOOK_SECRET=

# GitHub API base URL (use for GitHub Enterprise)
GITHUB_API_URL=https://api.github.com

# -----------------------------------------------------------------------------
# BUDGET & LIMITS
# -----------------------------------------------------------------------------

# Max tokens per task (controls LLM costs)
MAX_TOKENS_PER_TASK=100000

# Max cost per task in USD
MAX_COST_PER_TASK=5.0

# Max retries before STOPPED_SAFE
MAX_RETRIES=3

# Command timeout in seconds
COMMAND_TIMEOUT_SECONDS=300

# -----------------------------------------------------------------------------
# SANDBOX CONFIGURATION
# -----------------------------------------------------------------------------

# Docker image for sandbox execution
SANDBOX_IMAGE=kita-sandbox:latest

# Enable network isolation (security critical!)
SANDBOX_NETWORK_NONE=true

# Enable read-only filesystem
SANDBOX_READ_ONLY=true

# Memory limit for sandbox container
SANDBOX_MEMORY_LIMIT=512m

# CPU limit for sandbox container
SANDBOX_CPU_LIMIT=1.0

# -----------------------------------------------------------------------------
# DATABASE (Optional - for persistence)
# -----------------------------------------------------------------------------

# Database URL (SQLite for local, PostgreSQL for production)
# DATABASE_URL=sqlite:///kita.db
# DATABASE_URL=postgresql://user:pass@host:5432/kita

# Redis for task queue (optional)
# REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------

# API key for authentication (leave empty to disable)
API_KEY=

# Allowed CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://localhost:8080

# Rate limit: requests per minute per IP
RATE_LIMIT_RPM=60

# Enable detailed error responses (disable in production)
DEBUG_ERRORS=true

# -----------------------------------------------------------------------------
# MONITORING (Optional)
# -----------------------------------------------------------------------------

# Prometheus metrics endpoint (enable for /metrics)
ENABLE_METRICS=true

# Structured JSON logging (enable for production)
JSON_LOGS=false

# Sentry DSN for error tracking
# SENTRY_DSN=https://xxx@sentry.io/xxx

# -----------------------------------------------------------------------------
# DEPLOYMENT PLATFORM SPECIFIC
# -----------------------------------------------------------------------------

# Railway specific
# RAILWAY_ENVIRONMENT=production

# Vercel specific (for edge functions)
# VERCEL_ENV=production

# Docker Compose specific
# COMPOSE_PROJECT_NAME=kitadev
